<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Agent Kernel MVP</title>
    <style>
      :root {
        --bg: #0f1419;
        --bg-accent: #162028;
        --card: rgba(255, 255, 255, 0.06);
        --text: #e8edf2;
        --muted: #9fb0bf;
        --accent: #7cf2c5;
        --accent-strong: #39d9ff;
        --shadow: rgba(0, 0, 0, 0.35);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Avenir Next", "Avenir", "Helvetica Neue", sans-serif;
        color: var(--text);
        background:
          radial-gradient(800px 400px at 15% 15%, rgba(57, 217, 255, 0.18), transparent 60%),
          radial-gradient(900px 500px at 85% 10%, rgba(124, 242, 197, 0.2), transparent 60%),
          linear-gradient(160deg, var(--bg), var(--bg-accent));
      }

      main {
        max-width: 960px;
        margin: 0 auto;
        padding: 48px 24px 80px;
      }

      header {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-bottom: 32px;
      }

      h1 {
        font-size: clamp(2rem, 3vw, 2.8rem);
        margin: 0;
        letter-spacing: 0.02em;
      }

      .subtitle {
        color: var(--muted);
        max-width: 640px;
        line-height: 1.5;
      }

      .grid {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      }

      .card {
        background: var(--card);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 18px;
        padding: 20px;
        box-shadow: 0 20px 40px var(--shadow);
        backdrop-filter: blur(6px);
      }

      .stat {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .stat-label {
        font-size: 0.9rem;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 0.16em;
      }

      .stat-value {
        font-size: clamp(2rem, 5vw, 3rem);
        font-weight: 600;
      }

      .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 16px;
      }

      button {
        border: none;
        border-radius: 999px;
        padding: 10px 18px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      button.primary {
        background: linear-gradient(120deg, var(--accent), var(--accent-strong));
        color: #07131a;
        box-shadow: 0 10px 20px rgba(57, 217, 255, 0.3);
      }

      button.secondary {
        background: rgba(255, 255, 255, 0.12);
        color: var(--text);
      }

      button:disabled {
        cursor: not-allowed;
        opacity: 0.6;
      }

      input,
      select {
        width: 100%;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.18);
        background: rgba(255, 255, 255, 0.08);
        color: var(--text);
        font-size: 0.95rem;
      }

      button:hover:not(:disabled) {
        transform: translateY(-1px);
      }

      ul {
        list-style: none;
        padding: 0;
        margin: 16px 0 0;
        display: flex;
        flex-direction: column;
        gap: 8px;
        max-height: 280px;
        overflow-y: auto;
      }

      li {
        padding: 10px 12px;
        border-radius: 12px;
        background: rgba(15, 20, 25, 0.55);
        border: 1px solid rgba(255, 255, 255, 0.08);
        font-size: 0.95rem;
      }

      li[data-level="warn"] {
        border-color: rgba(255, 186, 73, 0.5);
        color: #ffd490;
      }

      .status {
        margin-top: 8px;
        color: var(--muted);
        font-size: 0.95rem;
      }

      .adapter-grid {
        display: grid;
        gap: 12px;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        margin: 16px 0;
      }

      .adapter-output {
        margin-top: 12px;
        background: rgba(0, 0, 0, 0.35);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 12px;
        min-height: 140px;
        max-height: 240px;
        overflow: auto;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        font-size: 0.9rem;
        color: var(--text);
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>
    <main>
      <header>
        <h1>Agent Kernel MVP</h1>
        <p class="subtitle">
          A minimal end-to-end run that exercises core WASM logic, ports, adapters, and a live UI.
        </p>
      </header>

      <section class="grid">
        <div class="card">
          <div class="stat">
            <span class="stat-label">Counter State</span>
            <span class="stat-value" id="counter-value">0</span>
          </div>
          <div class="controls">
            <button class="primary" id="step-button">Step</button>
            <button class="secondary" id="run-button">Run 10</button>
            <button class="secondary" id="reset-button">Reset</button>
          </div>
          <div class="status" id="status-message">Loading WASM...</div>
        </div>

        <div class="card">
          <div class="stat">
            <span class="stat-label">Port Effects</span>
          </div>
          <ul id="effect-log"></ul>
        </div>

        <div class="card">
          <div class="stat">
            <span class="stat-label">Adapter Playground</span>
            <small class="status">Fixture mode uses repo fixtures; toggle to live to hit your endpoints.</small>
          </div>
          <div class="adapter-grid">
            <label>
              <span class="stat-label">Mode</span>
              <select id="adapter-mode">
                <option value="fixture" selected>Fixture</option>
                <option value="live">Live</option>
              </select>
            </label>
            <label>
              <span class="stat-label">IPFS Gateway</span>
              <input id="adapter-gateway" type="text" value="https://ipfs.io/ipfs" />
            </label>
            <label>
              <span class="stat-label">IPFS CID</span>
              <input id="adapter-cid" type="text" value="fixture" />
            </label>
            <label>
              <span class="stat-label">IPFS Path</span>
              <input id="adapter-path" type="text" placeholder="optional/path.json" />
            </label>
            <label>
              <span class="stat-label">RPC URL</span>
              <input id="adapter-rpc-url" type="text" value="http://fixture" />
            </label>
            <label>
              <span class="stat-label">Address</span>
              <input id="adapter-address" type="text" value="0xabc" />
            </label>
            <label>
              <span class="stat-label">LLM Base URL</span>
              <input id="adapter-llm-url" type="text" value="http://localhost:11434" />
            </label>
            <label>
              <span class="stat-label">Prompt</span>
              <input id="adapter-prompt" type="text" value="hello" />
            </label>
          </div>
          <div class="controls">
            <button class="primary" id="adapter-ipfs">Run IPFS</button>
            <button class="secondary" id="adapter-blockchain">Run Blockchain</button>
            <button class="secondary" id="adapter-llm">Run LLM</button>
            <button class="secondary" id="adapter-solver">Run Solver</button>
            <button class="secondary" id="adapter-clear">Clear</button>
          </div>
          <div class="status" id="adapter-status">Ready in fixture mode.</div>
          <pre class="adapter-output" id="adapter-output"></pre>
        </div>
      </section>
    </main>
    <script type="module" src="./src/main.js"></script>
  </body>
</html>
